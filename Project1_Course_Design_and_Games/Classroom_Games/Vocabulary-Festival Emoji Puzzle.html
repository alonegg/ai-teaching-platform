<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Festival Emoji Puzzle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4F46E5', // Main color: Indigo, representing wisdom and trust
                        secondary: '#EC4899', // Secondary color: Pink, adding fun
                        accent: '#10B981', // Accent color: Green, for success states
                        dark: '#1F2937', // Dark text
                        light: '#F9FAFB', // Light background
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'bounce-slow': 'bounce 3s infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                },
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .emoji-hover {
                transition: all 0.3s ease;
            }
            .emoji-hover:hover {
                transform: scale(1.3);
                filter: drop-shadow(0 10px 8px rgb(0 0 0 / 0.04)) drop-shadow(0 4px 3px rgb(0 0 0 / 0.1));
            }
            .glass-effect {
                backdrop-filter: blur(16px) saturate(180%);
                background-color: rgba(255, 255, 255, 0.75);
            }
            .card-shadow {
                box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-light to-indigo-50 min-h-screen font-sans text-dark">
    <!-- Page Header -->
    <header class="container mx-auto px-4 py-8 text-center">
        <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold text-primary mb-2 animate-pulse-slow">
            Festival Emoji Puzzle
        </h1>
        <p class="text-lg md:text-xl text-indigo-700 max-w-2xl mx-auto">
            Select 2-3 emojis to reveal the traditional festival they represent!
        </p>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 max-w-5xl">
        <!-- Game Instructions Card -->
        <div class="glass-effect rounded-2xl p-6 mb-10 card-shadow">
            <div class="flex flex-col md:flex-row items-center gap-6">
                <div class="w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center">
                    <i class="fa fa-lightbulb-o text-3xl text-primary animate-float"></i>
                </div>
                <div>
                    <h2 class="text-xl font-bold text-primary mb-2">How to Play</h2>
                    <ul class="space-y-2">
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-accent mt-1 mr-2"></i>
                            <span>Select <span class="font-bold">2-3 emojis</span> related to traditional festivals</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-accent mt-1 mr-2"></i>
                            <span>Click the "Confirm Selection" button to reveal the festival name</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fa fa-check-circle text-accent mt-1 mr-2"></i>
                            <span>Try different emoji combinations to discover more festivals!</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Emoji Selection Area -->
        <div class="glass-effect rounded-2xl p-6 mb-10 card-shadow">
            <h2 class="text-xl font-bold text-primary mb-6 text-center">Select Emojis</h2>
            
            <div id="emojiContainer" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4 mb-8">
                <!-- Emojis will be dynamically generated by JavaScript -->
            </div>
            
            <div class="flex justify-center">
                <button id="confirmBtn" class="bg-primary hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2">
                    <i class="fa fa-lock"></i>
                    <span>Confirm Selection</span>
                </button>
            </div>
        </div>

        <!-- Selected Emojis Area -->
        <div class="glass-effect rounded-2xl p-6 mb-10 card-shadow">
            <h2 class="text-xl font-bold text-primary mb-4 flex items-center">
                <i class="fa fa-star text-yellow-400 mr-2"></i>
                Your Selected Emojis
            </h2>
            
            <div id="selectedEmojis" class="flex flex-wrap gap-4 min-h-[60px] items-center justify-center">
                <p class="text-gray-500 italic" id="emptySelection">Please select 2-3 emojis from above</p>
            </div>
        </div>

        <!-- Result Display Area -->
        <div id="resultContainer" class="glass-effect rounded-2xl p-6 mb-10 card-shadow hidden">
            <div class="text-center">
                <h2 class="text-2xl font-bold text-primary mb-2">🎉 Reveal the Answer! 🎉</h2>
                <div id="selectedEmojisResult" class="text-4xl mb-4"></div>
                <div id="festivalName" class="text-3xl font-bold text-secondary mb-4"></div>
                <p id="festivalDescription" class="text-lg text-gray-700 max-w-2xl mx-auto"></p>
                <div id="festivalOrigin" class="text-base text-gray-600 mt-2 italic"></div>
            </div>
        </div>

        <!-- Restart Button -->
        <div id="restartContainer" class="text-center hidden">
            <button id="restartBtn" class="bg-accent hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 hover:shadow-lg flex items-center gap-2 mx-auto">
                <i class="fa fa-refresh"></i>
                <span>Play Again</span>
            </button>
        </div>
    </main>

    <!-- Footer -->
    <footer class="container mx-auto px-4 py-8 text-center text-gray-500">
        <p>© 2025 Festival Emoji Puzzle | Designed & Developed</p>
    </footer>

    <script>
        // Festival Emoji Database
        const festivals = [
            // Chinese Festivals
            {
                name: "Chinese New Year (Spring Festival)",
                description: "The most important traditional festival in China, marking the beginning of the lunar calendar. People decorate their homes, enjoy family reunions, give red envelopes, and watch dragon and lion dances.",
                origin: "China",
                emojis: ["🧧", "🐉", "🏮", "🐯", "🎊", "🔔", "🍾"]
            },
            {
                name: "Lantern Festival",
                description: "The Lantern Festival marks the end of the Chinese New Year celebrations. People eat tangyuan (sweet dumplings), admire colorful lantern displays, and solve riddles written on lanterns.",
                origin: "China",
                emojis: ["🏮", "🍡", "🌟", "🌕", "🌈", "🔦", "🎊"]
            },
            {
                name: "New Year's Eve (Chinese)",
                description: "New Year's Eve is a time for families to gather for a special dinner, known as the 'reunion dinner'. It is a time to reflect on the past year and prepare for the new one.",
                origin: "China",
                emojis: ["🍲", "🥢", "🏮", "🎇", "🔔", "🧧", "👨👩👧👦"]
            },
            {
                name: "Qingming Festival (Tomb-Sweeping Festival)",
                description: "A time for people to visit and clean the graves of their ancestors, offer sacrifices, and pay respects. It is also a popular time for spring outings.",
                origin: "China",
                emojis: ["🌱", "🏞️", "💐", "🕯️", "⛰️", "🍃", "👨👩👧"]
            },
            {
                name: "Dragon Boat Festival",
                description: "The Dragon Boat Festival commemorates the ancient patriotic poet Qu Yuan. People eat zongzi (sticky rice dumplings), participate in dragon boat races, and hang mugwort to ward off evil spirits.",
                origin: "China",
                emojis: ["🐉", "🌿", "🍙", "🚣", "⚱️", "🌊", "💪"]
            },
            {
                name: "Qixi Festival (Chinese Valentine's Day)",
                description: "Qixi Festival celebrates the annual meeting of the cowherd and weaver girl in Chinese mythology. It is a day when people express their love and wish for happiness and craftsmanship.",
                origin: "China",
                emojis: ["💖", "🌌", "🦚", "🎋", "🧶", "👫", "❤️"]
            },
            {
                name: "Mid-Autumn Festival",
                description: "The Mid-Autumn Festival is celebrated on the 15th day of the 8th lunar month. People gather to admire the full moon, eat mooncakes, and carry lanterns, symbolizing family unity and happiness.",
                origin: "China",
                emojis: ["🌕", "🥮", "🏮", "🐇", "🍊", "🌰", "👨👩👧"]
            },
            
            // Western Festivals
            {
                name: "Halloween",
                description: "A holiday celebrated on October 31st. It has roots in ancient Celtic festivals. People dress up in costumes, go trick-or-treating, carve pumpkins into jack-o'-lanterns, and attend Halloween parties.",
                origin: "Western World",
                emojis: ["🎃", "👻", "🕸️", "🕷️", "🧟", "🦇", "🍬"]
            },
            {
                name: "Thanksgiving",
                description: "A national holiday in the United States and Canada, celebrated as a day of giving thanks for the blessings of the year. Traditional activities include turkey dinners, parades, and spending time with family.",
                origin: "United States, Canada",
                emojis: ["🦃", "🍗", "🍠", "🍁", "🌽", "🥧", "👨👩👧👦"]
            },
            {
                name: "Christmas",
                description: "A Christian holiday celebrating the birth of Jesus Christ. It is widely celebrated around the world with traditions such as gift-giving, decorating Christmas trees, and enjoying festive meals.",
                origin: "Western World",
                emojis: ["🎄", "🎁", "⛄", "🔔", "🦌", "🎅", "❄️"]
            }
        ];

        // Page Elements
        const emojiContainer = document.getElementById('emojiContainer');
        const selectedEmojis = document.getElementById('selectedEmojis');
        const emptySelection = document.getElementById('emptySelection');
        const confirmBtn = document.getElementById('confirmBtn');
        const resultContainer = document.getElementById('resultContainer');
        const selectedEmojisResult = document.getElementById('selectedEmojisResult');
        const festivalName = document.getElementById('festivalName');
        const festivalDescription = document.getElementById('festivalDescription');
        const festivalOrigin = document.getElementById('festivalOrigin');
        const restartContainer = document.getElementById('restartContainer');
        const restartBtn = document.getElementById('restartBtn');

        // Store selected emojis
        let selected = [];

        // Initialize emoji selection area
        function initEmojiContainer() {
            // Collect all emojis from all festivals
            let allEmojis = [];
            festivals.forEach(festival => {
                allEmojis = [...allEmojis, ...festival.emojis];
            });
            
            // Remove duplicates and shuffle
            const uniqueEmojis = [...new Set(allEmojis)];
            const shuffledEmojis = uniqueEmojis.sort(() => Math.random() - 0.5);
            
            // Display emojis
            shuffledEmojis.forEach(emoji => {
                const emojiEl = document.createElement('div');
                emojiEl.className = 'emoji-item cursor-pointer rounded-full p-4 flex items-center justify-center emoji-hover';
                emojiEl.innerHTML = `<span class="text-3xl">${emoji}</span>`;
                emojiEl.dataset.emoji = emoji;
                
                // Add click event
                emojiEl.addEventListener('click', () => {
                    if (selected.includes(emoji)) {
                        // Deselect
                        selected = selected.filter(e => e !== emoji);
                        emojiEl.classList.remove('bg-primary/10', 'ring-2', 'ring-primary');
                    } else if (selected.length < 3) {
                        // Select
                        selected.push(emoji);
                        emojiEl.classList.add('bg-primary/10', 'ring-2', 'ring-primary');
                    }
                    
                    updateSelectedEmojis();
                    updateConfirmButton();
                });
                
                emojiContainer.appendChild(emojiEl);
            });
        }

        // Update selected emojis display
        function updateSelectedEmojis() {
            // Clear current selection
            selectedEmojis.innerHTML = '';
            
            if (selected.length === 0) {
                emptySelection.classList.remove('hidden');
            } else {
                emptySelection.classList.add('hidden');
                
                // Add selected emojis
                selected.forEach(emoji => {
                    const emojiEl = document.createElement('div');
                    emojiEl.className = 'selected-emoji text-3xl bg-white rounded-full p-3 shadow-lg animate-bounce-slow';
                    emojiEl.innerHTML = emoji;
                    selectedEmojis.appendChild(emojiEl);
                });
            }
        }

        // Update confirm button state
        function updateConfirmButton() {
            if (selected.length >= 2) {
                confirmBtn.disabled = false;
            } else {
                confirmBtn.disabled = true;
            }
        }

        // Find matching festival
        function findMatchingFestival() {
            // Check each festival if all selected emojis belong to it
            for (const festival of festivals) {
                const isMatch = selected.every(emoji => festival.emojis.includes(emoji));
                if (isMatch) {
                    return festival;
                }
            }
            
            // If no exact match, return a default message
            return {
                name: "Mystery Combination",
                description: "This emoji combination is unique! It might represent a festival we haven't included, or it's a creative combination you've come up with!",
                origin: "Unknown",
                emojis: []
            };
        }

        // Show result
        function showResult() {
            // Find matching festival
            const festival = findMatchingFestival();
            
            // Update result display
            selectedEmojisResult.textContent = selected.join('   ');
            festivalName.textContent = festival.name;
            festivalDescription.textContent = festival.description;
            festivalOrigin.textContent = `Origin: ${festival.origin}`;
            
            // Show result area and restart button
            resultContainer.classList.remove('hidden');
            resultContainer.classList.add('animate-fadeIn');
            restartContainer.classList.remove('hidden');
            
            // Scroll to result area
            resultContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Add event listeners
        confirmBtn.addEventListener('click', showResult);
        restartBtn.addEventListener('click', () => {
            // Reset selection
            selected = [];
            
            // Reset emoji selection state
            document.querySelectorAll('.emoji-item').forEach(item => {
                item.classList.remove('bg-primary/10', 'ring-2', 'ring-primary');
            });
            
            // Update display
            updateSelectedEmojis();
            updateConfirmButton();
            
            // Hide result area and restart button
            resultContainer.classList.add('hidden');
            restartContainer.classList.add('hidden');
            
            // Scroll to emoji selection area
            emojiContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        });

        // Initialize page
        initEmojiContainer();
        updateConfirmButton();
    </script>
</body>
</html>
    